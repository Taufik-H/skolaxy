{"version":3,"file":"disclosure.esm.js","sources":["../../../src/components/disclosure/disclosure.ts"],"sourcesContent":["// WAI-ARIA: https://www.w3.org/TR/wai-aria-practices-1.2/#disclosure\nimport {\n  defineComponent,\n  ref,\n  provide,\n  inject,\n  InjectionKey,\n  Ref,\n  computed,\n  watchEffect,\n} from 'vue'\n\nimport { Keys } from '../../keyboard'\nimport { match } from '../../utils/match'\nimport { render, Features } from '../../utils/render'\nimport { useId } from '../../hooks/use-id'\nimport { dom } from '../../utils/dom'\nimport { useOpenClosedProvider, State, useOpenClosed } from '../../internal/open-closed'\nimport { useResolveButtonType } from '../../hooks/use-resolve-button-type'\n\nenum DisclosureStates {\n  Open,\n  Closed,\n}\n\ninterface StateDefinition {\n  // State\n  disclosureState: Ref<DisclosureStates>\n  panel: Ref<HTMLElement | null>\n  panelId: string\n  button: Ref<HTMLButtonElement | null>\n  buttonId: string\n\n  // State mutators\n  toggleDisclosure(): void\n  closeDisclosure(): void\n\n  // Exposed functions\n  close(focusableElement: HTMLElement | Ref<HTMLElement | null>): void\n}\n\nlet DisclosureContext = Symbol('DisclosureContext') as InjectionKey<StateDefinition>\n\nfunction useDisclosureContext(component: string) {\n  let context = inject(DisclosureContext, null)\n\n  if (context === null) {\n    let err = new Error(`<${component} /> is missing a parent <Disclosure /> component.`)\n    if (Error.captureStackTrace) Error.captureStackTrace(err, useDisclosureContext)\n    throw err\n  }\n\n  return context\n}\n\nlet DisclosurePanelContext = Symbol('DisclosurePanelContext') as InjectionKey<string | null>\nfunction useDisclosurePanelContext() {\n  return inject(DisclosurePanelContext, null)\n}\n\n// ---\n\nexport let Disclosure = defineComponent({\n  name: 'Disclosure',\n  props: {\n    as: { type: [Object, String], default: 'template' },\n    defaultOpen: { type: [Boolean], default: false },\n  },\n  setup(props, { slots, attrs }) {\n    let buttonId = `headlessui-disclosure-button-${useId()}`\n    let panelId = `headlessui-disclosure-panel-${useId()}`\n\n    let disclosureState = ref<StateDefinition['disclosureState']['value']>(\n      props.defaultOpen ? DisclosureStates.Open : DisclosureStates.Closed\n    )\n    let panelRef = ref<StateDefinition['panel']['value']>(null)\n    let buttonRef = ref<StateDefinition['button']['value']>(null)\n\n    let api = {\n      buttonId,\n      panelId,\n      disclosureState,\n      panel: panelRef,\n      button: buttonRef,\n      toggleDisclosure() {\n        disclosureState.value = match(disclosureState.value, {\n          [DisclosureStates.Open]: DisclosureStates.Closed,\n          [DisclosureStates.Closed]: DisclosureStates.Open,\n        })\n      },\n      closeDisclosure() {\n        if (disclosureState.value === DisclosureStates.Closed) return\n        disclosureState.value = DisclosureStates.Closed\n      },\n      close(focusableElement: HTMLElement | Ref<HTMLElement | null>) {\n        api.closeDisclosure()\n\n        let restoreElement = (() => {\n          if (!focusableElement) return dom(api.button)\n          if (focusableElement instanceof HTMLElement) return focusableElement\n          if (focusableElement.value instanceof HTMLElement) return dom(focusableElement)\n\n          return dom(api.button)\n        })()\n\n        restoreElement?.focus()\n      },\n    } as StateDefinition\n\n    provide(DisclosureContext, api)\n    useOpenClosedProvider(\n      computed(() => {\n        return match(disclosureState.value, {\n          [DisclosureStates.Open]: State.Open,\n          [DisclosureStates.Closed]: State.Closed,\n        })\n      })\n    )\n\n    return () => {\n      let { defaultOpen: _, ...passThroughProps } = props\n      let slot = { open: disclosureState.value === DisclosureStates.Open, close: api.close }\n      return render({ props: passThroughProps, slot, slots, attrs, name: 'Disclosure' })\n    }\n  },\n})\n\n// ---\n\nexport let DisclosureButton = defineComponent({\n  name: 'DisclosureButton',\n  props: {\n    as: { type: [Object, String], default: 'button' },\n    disabled: { type: [Boolean], default: false },\n  },\n  render() {\n    let api = useDisclosureContext('DisclosureButton')\n\n    let slot = { open: api.disclosureState.value === DisclosureStates.Open }\n    let propsWeControl = this.isWithinPanel\n      ? {\n          ref: 'el',\n          type: this.type,\n          onClick: this.handleClick,\n          onKeydown: this.handleKeyDown,\n        }\n      : {\n          id: this.id,\n          ref: 'el',\n          type: this.type,\n          'aria-expanded': this.$props.disabled\n            ? undefined\n            : api.disclosureState.value === DisclosureStates.Open,\n          'aria-controls': dom(api.panel) ? api.panelId : undefined,\n          disabled: this.$props.disabled ? true : undefined,\n          onClick: this.handleClick,\n          onKeydown: this.handleKeyDown,\n          onKeyup: this.handleKeyUp,\n        }\n\n    return render({\n      props: { ...this.$props, ...propsWeControl },\n      slot,\n      attrs: this.$attrs,\n      slots: this.$slots,\n      name: 'DisclosureButton',\n    })\n  },\n  setup(props, { attrs }) {\n    let api = useDisclosureContext('DisclosureButton')\n\n    let panelContext = useDisclosurePanelContext()\n    let isWithinPanel = panelContext === null ? false : panelContext === api.panelId\n\n    let elementRef = ref(null)\n\n    if (!isWithinPanel) {\n      watchEffect(() => {\n        api.button.value = elementRef.value\n      })\n    }\n\n    return {\n      isWithinPanel,\n      id: api.buttonId,\n      el: elementRef,\n      type: useResolveButtonType(\n        computed(() => ({ as: props.as, type: attrs.type })),\n        elementRef\n      ),\n      handleClick() {\n        if (props.disabled) return\n\n        if (isWithinPanel) {\n          api.toggleDisclosure()\n          dom(api.button)?.focus()\n        } else {\n          api.toggleDisclosure()\n        }\n      },\n      handleKeyDown(event: KeyboardEvent) {\n        if (props.disabled) return\n\n        if (isWithinPanel) {\n          switch (event.key) {\n            case Keys.Space:\n            case Keys.Enter:\n              event.preventDefault()\n              event.stopPropagation()\n              api.toggleDisclosure()\n              dom(api.button)?.focus()\n              break\n          }\n        } else {\n          switch (event.key) {\n            case Keys.Space:\n            case Keys.Enter:\n              event.preventDefault()\n              event.stopPropagation()\n              api.toggleDisclosure()\n              break\n          }\n        }\n      },\n      handleKeyUp(event: KeyboardEvent) {\n        switch (event.key) {\n          case Keys.Space:\n            // Required for firefox, event.preventDefault() in handleKeyDown for\n            // the Space key doesn't cancel the handleKeyUp, which in turn\n            // triggers a *click*.\n            event.preventDefault()\n            break\n        }\n      },\n    }\n  },\n})\n\n// ---\n\nexport let DisclosurePanel = defineComponent({\n  name: 'DisclosurePanel',\n  props: {\n    as: { type: [Object, String], default: 'div' },\n    static: { type: Boolean, default: false },\n    unmount: { type: Boolean, default: true },\n  },\n  render() {\n    let api = useDisclosureContext('DisclosurePanel')\n\n    let slot = { open: api.disclosureState.value === DisclosureStates.Open, close: api.close }\n    let propsWeControl = { id: this.id, ref: 'el' }\n\n    return render({\n      props: { ...this.$props, ...propsWeControl },\n      slot,\n      attrs: this.$attrs,\n      slots: this.$slots,\n      features: Features.RenderStrategy | Features.Static,\n      visible: this.visible,\n      name: 'DisclosurePanel',\n    })\n  },\n  setup() {\n    let api = useDisclosureContext('DisclosurePanel')\n\n    provide(DisclosurePanelContext, api.panelId)\n\n    let usesOpenClosedState = useOpenClosed()\n    let visible = computed(() => {\n      if (usesOpenClosedState !== null) {\n        return usesOpenClosedState.value === State.Open\n      }\n\n      return api.disclosureState.value === DisclosureStates.Open\n    })\n\n    return {\n      id: api.panelId,\n      el: api.panel,\n      visible,\n    }\n  },\n})\n"],"names":["DisclosureStates","DisclosureContext","Symbol","useDisclosureContext","component","context","inject","err","Error","captureStackTrace","DisclosurePanelContext","useDisclosurePanelContext","Disclosure","defineComponent","name","props","as","type","Object","String","defaultOpen","Boolean","setup","slots","attrs","buttonId","useId","panelId","disclosureState","ref","Open","Closed","panelRef","buttonRef","api","panel","button","toggleDisclosure","value","match","closeDisclosure","close","focusableElement","restoreElement","dom","HTMLElement","focus","provide","useOpenClosedProvider","computed","State","passThroughProps","slot","open","render","DisclosureButton","disabled","propsWeControl","isWithinPanel","onClick","handleClick","onKeydown","handleKeyDown","id","$props","undefined","onKeyup","handleKeyUp","$attrs","$slots","panelContext","elementRef","watchEffect","el","useResolveButtonType","event","key","Keys","Space","Enter","preventDefault","stopPropagation","DisclosurePanel","unmount","features","Features","RenderStrategy","Static","visible","usesOpenClosedState","useOpenClosed"],"mappings":"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"}