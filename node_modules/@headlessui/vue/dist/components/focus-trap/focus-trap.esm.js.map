{"version":3,"file":"focus-trap.esm.js","sources":["../../../src/components/focus-trap/focus-trap.ts"],"sourcesContent":["import {\n  computed,\n  defineComponent,\n  onMounted,\n  onUnmounted,\n  ref,\n\n  // Types\n  PropType,\n} from 'vue'\nimport { render } from '../../utils/render'\nimport { useFocusTrap } from '../../hooks/use-focus-trap'\n\nexport let FocusTrap = defineComponent({\n  name: 'FocusTrap',\n  props: {\n    as: { type: [Object, String], default: 'div' },\n    initialFocus: { type: Object as PropType<HTMLElement | null>, default: null },\n  },\n  render() {\n    let slot = {}\n    let propsWeControl = { ref: 'el' }\n    let { initialFocus, ...passThroughProps } = this.$props\n\n    return render({\n      props: { ...passThroughProps, ...propsWeControl },\n      slot,\n      attrs: this.$attrs,\n      slots: this.$slots,\n      name: 'FocusTrap',\n    })\n  },\n  setup(props) {\n    let containers = ref(new Set<HTMLElement>())\n    let container = ref<HTMLElement | null>(null)\n    let enabled = ref(true)\n    let focusTrapOptions = computed(() => ({ initialFocus: props.initialFocus }))\n\n    onMounted(() => {\n      if (!container.value) return\n      containers.value.add(container.value)\n\n      useFocusTrap(containers, enabled, focusTrapOptions)\n    })\n\n    onUnmounted(() => {\n      enabled.value = false\n    })\n\n    return { el: container }\n  },\n})\n"],"names":["FocusTrap","defineComponent","name","props","as","type","Object","String","initialFocus","render","slot","propsWeControl","ref","$props","passThroughProps","attrs","$attrs","slots","$slots","setup","containers","Set","container","enabled","focusTrapOptions","computed","onMounted","value","add","useFocusTrap","onUnmounted","el"],"mappings":";;;;;IAaWA,SAAS,gBAAGC,eAAe,CAAC;AACrCC,EAAAA,IAAI,EAAE,WAD+B;AAErCC,EAAAA,KAAK,EAAE;AACLC,IAAAA,EAAE,EAAE;AAAEC,MAAAA,IAAI,EAAE,CAACC,MAAD,EAASC,MAAT,CAAR;AAA0B,iBAAS;AAAnC,KADC;AAELC,IAAAA,YAAY,EAAE;AAAEH,MAAAA,IAAI,EAAEC,MAAR;AAAgD,iBAAS;AAAzD;AAFT,GAF8B;AAMrCG,EAAAA,MANqC;AAOnC,QAAIC,IAAI,GAAG,EAAX;AACA,QAAIC,cAAc,GAAG;AAAEC,MAAAA,GAAG,EAAE;AAAP,KAArB;;uBAC4C,KAAKC;QAA1BC;;AAEvB,WAAOL,MAAM,CAAC;AACZN,MAAAA,KAAK,eAAOW,gBAAP,EAA4BH,cAA5B,CADO;AAEZD,MAAAA,IAAI,EAAJA,IAFY;AAGZK,MAAAA,KAAK,EAAE,KAAKC,MAHA;AAIZC,MAAAA,KAAK,EAAE,KAAKC,MAJA;AAKZhB,MAAAA,IAAI,EAAE;AALM,KAAD,CAAb;AAOD,GAlBoC;AAmBrCiB,EAAAA,KAnBqC,iBAmB/BhB,KAnB+B;AAoBnC,QAAIiB,UAAU,GAAGR,GAAG,CAAC,IAAIS,GAAJ,EAAD,CAApB;AACA,QAAIC,SAAS,GAAGV,GAAG,CAAqB,IAArB,CAAnB;AACA,QAAIW,OAAO,GAAGX,GAAG,CAAC,IAAD,CAAjB;AACA,QAAIY,gBAAgB,GAAGC,QAAQ,CAAC;AAAA,aAAO;AAAEjB,QAAAA,YAAY,EAAEL,KAAK,CAACK;AAAtB,OAAP;AAAA,KAAD,CAA/B;AAEAkB,IAAAA,SAAS,CAAC;AACR,UAAI,CAACJ,SAAS,CAACK,KAAf,EAAsB;AACtBP,MAAAA,UAAU,CAACO,KAAX,CAAiBC,GAAjB,CAAqBN,SAAS,CAACK,KAA/B;AAEAE,MAAAA,YAAY,CAACT,UAAD,EAAaG,OAAb,EAAsBC,gBAAtB,CAAZ;AACD,KALQ,CAAT;AAOAM,IAAAA,WAAW,CAAC;AACVP,MAAAA,OAAO,CAACI,KAAR,GAAgB,KAAhB;AACD,KAFU,CAAX;AAIA,WAAO;AAAEI,MAAAA,EAAE,EAAET;AAAN,KAAP;AACD;AArCoC,CAAD;;;;"}